{"ast":null,"code":"import React from'react';import{useTranslation}from'react-i18next';import MobileTopbar from'./components/MobileTopbar';import Sales from'./pages/seller/Sales';import Stock from'./pages/seller/Stock';import Expenses from'./pages/seller/Expenses';import Dashboard from'./pages/admin/Dashboard';import Login from'./pages/auth/Login';import ResetPassword from'./pages/auth/ResetPassword';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const{t}=useTranslation();const[user,setUser]=React.useState(()=>{try{return JSON.parse(localStorage.getItem('user')||'null');}catch(_unused){return null;}});const[route,setRoute]=React.useState('sales');if(!user)return/*#__PURE__*/_jsx(Login,{onLogin:u=>{setUser(u);localStorage.setItem('user',JSON.stringify(u));}});// seller mobile-first routes\nif(user.role==='seller'){return/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-shell\",children:[/*#__PURE__*/_jsx(MobileTopbar,{user:user,onLogout:()=>{localStorage.removeItem('token');localStorage.removeItem('user');setUser(null);},onNavigate:setRoute}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-content\",children:[route==='sales'&&/*#__PURE__*/_jsx(Sales,{user:user}),route==='stock'&&/*#__PURE__*/_jsx(Stock,{}),route==='expenses'&&/*#__PURE__*/_jsx(Expenses,{})]})]});}// admin view\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"admin-shell\",children:[/*#__PURE__*/_jsx(\"header\",{style:{padding:12,background:'#17C0C8',color:'#fff'},children:t('dashboard')}),/*#__PURE__*/_jsx(\"div\",{style:{padding:12},children:/*#__PURE__*/_jsx(Dashboard,{user:user})})]});}","map":{"version":3,"names":["React","useTranslation","MobileTopbar","Sales","Stock","Expenses","Dashboard","Login","ResetPassword","jsx","_jsx","jsxs","_jsxs","App","t","user","setUser","useState","JSON","parse","localStorage","getItem","_unused","route","setRoute","onLogin","u","setItem","stringify","role","className","children","onLogout","removeItem","onNavigate","style","padding","background","color"],"sources":["E:/Creative/App/dms/client/src/App.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport MobileTopbar from './components/MobileTopbar';\r\nimport Sales from './pages/seller/Sales';\r\nimport Stock from './pages/seller/Stock';\r\nimport Expenses from './pages/seller/Expenses';\r\nimport Dashboard from './pages/admin/Dashboard';\r\nimport Login from './pages/auth/Login';\r\nimport ResetPassword from './pages/auth/ResetPassword';\r\nimport './App.css';\r\n\r\nexport default function App(){\r\n  const { t } = useTranslation();\r\n  const [user,setUser] = React.useState(()=> { try { return JSON.parse(localStorage.getItem('user')||'null'); } catch { return null; }});\r\n  const [route, setRoute] = React.useState('sales');\r\n\r\n  if (!user) return <Login onLogin={(u)=>{ setUser(u); localStorage.setItem('user', JSON.stringify(u)); }} />;\r\n\r\n  // seller mobile-first routes\r\n  if (user.role === 'seller') {\r\n    return (\r\n      <div className=\"mobile-shell\">\r\n        <MobileTopbar user={user} onLogout={() => { localStorage.removeItem('token'); localStorage.removeItem('user'); setUser(null); }} onNavigate={setRoute} />\r\n        <div className=\"mobile-content\">\r\n          {route==='sales' && <Sales user={user} />}\r\n          {route==='stock' && <Stock />}\r\n          {route==='expenses' && <Expenses />}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // admin view\r\n  return (\r\n    <div className=\"admin-shell\">\r\n      <header style={{padding:12, background:'#17C0C8', color:'#fff'}}>{t('dashboard')}</header>\r\n      <div style={{padding:12}}><Dashboard user={user} /></div>\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,cAAc,KAAQ,eAAe,CAC9C,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CACpD,MAAO,CAAAC,KAAK,KAAM,sBAAsB,CACxC,MAAO,CAAAC,KAAK,KAAM,sBAAsB,CACxC,MAAO,CAAAC,QAAQ,KAAM,yBAAyB,CAC9C,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAE,CAC3B,KAAM,CAAEC,CAAE,CAAC,CAAGb,cAAc,CAAC,CAAC,CAC9B,KAAM,CAACc,IAAI,CAACC,OAAO,CAAC,CAAGhB,KAAK,CAACiB,QAAQ,CAAC,IAAK,CAAE,GAAI,CAAE,MAAO,CAAAC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE,MAAM,CAAC,CAAE,CAAE,MAAAC,OAAA,CAAM,CAAE,MAAO,KAAI,CAAE,CAAC,CAAC,CAAC,CACtI,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,KAAK,CAACiB,QAAQ,CAAC,OAAO,CAAC,CAEjD,GAAI,CAACF,IAAI,CAAE,mBAAOL,IAAA,CAACH,KAAK,EAACkB,OAAO,CAAGC,CAAC,EAAG,CAAEV,OAAO,CAACU,CAAC,CAAC,CAAEN,YAAY,CAACO,OAAO,CAAC,MAAM,CAAET,IAAI,CAACU,SAAS,CAACF,CAAC,CAAC,CAAC,CAAE,CAAE,CAAE,CAAC,CAE3G;AACA,GAAIX,IAAI,CAACc,IAAI,GAAK,QAAQ,CAAE,CAC1B,mBACEjB,KAAA,QAAKkB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BrB,IAAA,CAACR,YAAY,EAACa,IAAI,CAAEA,IAAK,CAACiB,QAAQ,CAAEA,CAAA,GAAM,CAAEZ,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC,CAAEb,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC,CAAEjB,OAAO,CAAC,IAAI,CAAC,CAAE,CAAE,CAACkB,UAAU,CAAEV,QAAS,CAAE,CAAC,cACzJZ,KAAA,QAAKkB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5BR,KAAK,GAAG,OAAO,eAAIb,IAAA,CAACP,KAAK,EAACY,IAAI,CAAEA,IAAK,CAAE,CAAC,CACxCQ,KAAK,GAAG,OAAO,eAAIb,IAAA,CAACN,KAAK,GAAE,CAAC,CAC5BmB,KAAK,GAAG,UAAU,eAAIb,IAAA,CAACL,QAAQ,GAAE,CAAC,EAChC,CAAC,EACH,CAAC,CAEV,CAEA;AACA,mBACEO,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrB,IAAA,WAAQyB,KAAK,CAAE,CAACC,OAAO,CAAC,EAAE,CAAEC,UAAU,CAAC,SAAS,CAAEC,KAAK,CAAC,MAAM,CAAE,CAAAP,QAAA,CAAEjB,CAAC,CAAC,WAAW,CAAC,CAAS,CAAC,cAC1FJ,IAAA,QAAKyB,KAAK,CAAE,CAACC,OAAO,CAAC,EAAE,CAAE,CAAAL,QAAA,cAACrB,IAAA,CAACJ,SAAS,EAACS,IAAI,CAAEA,IAAK,CAAE,CAAC,CAAK,CAAC,EACtD,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}