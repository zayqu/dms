{"ast":null,"code":"import React from'react';import apiClient from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Stock(){const[list,setList]=React.useState([]);React.useEffect(()=>load(),[]);async function load(){try{const r=await apiClient.api('/api/products');setList(r);}catch(e){console.error(e);}}async function adjust(id,delta){try{await apiClient.api(\"/api/products/\".concat(id),{method:'PATCH',body:JSON.stringify({stock:delta}),headers:{'Content-Type':'application/json'}});load();}catch(e){alert(e.message);}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Stock\"}),list.map(p=>/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{marginBottom:8},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:p.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"small-muted\",children:[p.stock,\" \",p.unit]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>adjust(p._id,p.stock),children:\"Refresh\"})})]})},p._id))]});}","map":{"version":3,"names":["React","apiClient","jsx","_jsx","jsxs","_jsxs","Stock","list","setList","useState","useEffect","load","r","api","e","console","error","adjust","id","delta","concat","method","body","JSON","stringify","stock","headers","alert","message","children","map","p","className","style","marginBottom","display","justifyContent","name","unit","onClick","_id"],"sources":["E:/Creative/App/dms/client/src/pages/seller/Stock.jsx"],"sourcesContent":["import React from 'react';\r\nimport apiClient from '../../services/api';\r\nexport default function Stock(){\r\n  const [list,setList] = React.useState([]);\r\n  React.useEffect(()=> load(), []);\r\n  async function load(){ try { const r = await apiClient.api('/api/products'); setList(r); } catch(e){ console.error(e); } }\r\n  async function adjust(id, delta){ try { await apiClient.api(`/api/products/${id}`, { method:'PATCH', body: JSON.stringify({ stock: delta }), headers: {'Content-Type':'application/json'} }); load(); } catch(e){ alert(e.message); } }\r\n  return (<div><h4>Stock</h4>{list.map(p=> (<div key={p._id} className=\"card\" style={{marginBottom:8}}><div style={{display:'flex',justifyContent:'space-between'}}><div><strong>{p.name}</strong><div className=\"small-muted\">{p.stock} {p.unit}</div></div><div><button className=\"btn\" onClick={()=>adjust(p._id, p.stock)}>Refresh</button></div></div></div>))}</div>);\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAC3C,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAE,CAC7B,KAAM,CAACC,IAAI,CAACC,OAAO,CAAC,CAAGR,KAAK,CAACS,QAAQ,CAAC,EAAE,CAAC,CACzCT,KAAK,CAACU,SAAS,CAAC,IAAKC,IAAI,CAAC,CAAC,CAAE,EAAE,CAAC,CAChC,cAAe,CAAAA,IAAIA,CAAA,CAAE,CAAE,GAAI,CAAE,KAAM,CAAAC,CAAC,CAAG,KAAM,CAAAX,SAAS,CAACY,GAAG,CAAC,eAAe,CAAC,CAAEL,OAAO,CAACI,CAAC,CAAC,CAAE,CAAE,MAAME,CAAC,CAAC,CAAEC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC,CAAE,CAAE,CACzH,cAAe,CAAAG,MAAMA,CAACC,EAAE,CAAEC,KAAK,CAAC,CAAE,GAAI,CAAE,KAAM,CAAAlB,SAAS,CAACY,GAAG,kBAAAO,MAAA,CAAkBF,EAAE,EAAI,CAAEG,MAAM,CAAC,OAAO,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,KAAK,CAAEN,KAAM,CAAC,CAAC,CAAEO,OAAO,CAAE,CAAC,cAAc,CAAC,kBAAkB,CAAE,CAAC,CAAC,CAAEf,IAAI,CAAC,CAAC,CAAE,CAAE,MAAMG,CAAC,CAAC,CAAEa,KAAK,CAACb,CAAC,CAACc,OAAO,CAAC,CAAE,CAAE,CACtO,mBAAQvB,KAAA,QAAAwB,QAAA,eAAK1B,IAAA,OAAA0B,QAAA,CAAI,OAAK,CAAI,CAAC,CAACtB,IAAI,CAACuB,GAAG,CAACC,CAAC,eAAI5B,IAAA,QAAiB6B,SAAS,CAAC,MAAM,CAACC,KAAK,CAAE,CAACC,YAAY,CAAC,CAAC,CAAE,CAAAL,QAAA,cAACxB,KAAA,QAAK4B,KAAK,CAAE,CAACE,OAAO,CAAC,MAAM,CAACC,cAAc,CAAC,eAAe,CAAE,CAAAP,QAAA,eAACxB,KAAA,QAAAwB,QAAA,eAAK1B,IAAA,WAAA0B,QAAA,CAASE,CAAC,CAACM,IAAI,CAAS,CAAC,cAAAhC,KAAA,QAAK2B,SAAS,CAAC,aAAa,CAAAH,QAAA,EAAEE,CAAC,CAACN,KAAK,CAAC,GAAC,CAACM,CAAC,CAACO,IAAI,EAAM,CAAC,EAAK,CAAC,cAAAnC,IAAA,QAAA0B,QAAA,cAAK1B,IAAA,WAAQ6B,SAAS,CAAC,KAAK,CAACO,OAAO,CAAEA,CAAA,GAAItB,MAAM,CAACc,CAAC,CAACS,GAAG,CAAET,CAAC,CAACN,KAAK,CAAE,CAAAI,QAAA,CAAC,SAAO,CAAQ,CAAC,CAAK,CAAC,EAAK,CAAC,EAArSE,CAAC,CAACS,GAAwS,CAAE,CAAC,EAAM,CAAC,CAC1W","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}