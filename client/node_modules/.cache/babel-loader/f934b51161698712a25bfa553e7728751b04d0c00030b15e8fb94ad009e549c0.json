{"ast":null,"code":"import React from'react';import apiClient from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){let{onLogin}=_ref;const[email,setEmail]=React.useState('owner@dms.local');const[password,setPassword]=React.useState('Daraja123!');async function submit(e){e&&e.preventDefault();try{const r=await apiClient.api('/api/auth/login',{method:'POST',body:JSON.stringify({email,password}),headers:{'Content-Type':'application/json'}});localStorage.setItem('token',r.token);const me=await apiClient.api('/api/auth/me');localStorage.setItem('user',JSON.stringify(me.user));if(onLogin)onLogin(me.user);}catch(e){alert(e.message);}}return/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:520,margin:'40px auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Login\"})]})]})});}","map":{"version":3,"names":["React","apiClient","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","email","setEmail","useState","password","setPassword","submit","e","preventDefault","r","api","method","body","JSON","stringify","headers","localStorage","setItem","token","me","user","alert","message","style","maxWidth","margin","children","className","onSubmit","value","onChange","target","placeholder","type"],"sources":["E:/Creative/App/dms/client/src/pages/auth/Login.jsx"],"sourcesContent":["import React from 'react';\r\nimport apiClient from '../../services/api';\r\nexport default function Login({ onLogin }) {\r\n  const [email,setEmail]=React.useState('owner@dms.local'); const [password,setPassword]=React.useState('Daraja123!');\r\n  async function submit(e){ e&&e.preventDefault(); try { const r = await apiClient.api('/api/auth/login',{ method:'POST', body: JSON.stringify({ email,password }), headers:{'Content-Type':'application/json'} }); localStorage.setItem('token', r.token); const me = await apiClient.api('/api/auth/me'); localStorage.setItem('user', JSON.stringify(me.user)); if (onLogin) onLogin(me.user); } catch(e){ alert(e.message); } }\r\n  return (<div style={{maxWidth:520, margin:'40px auto'}}><div className=\"card p-3\"><h4>Login</h4><form onSubmit={submit}><input className=\"input\" value={email} onChange={e=>setEmail(e.target.value)} placeholder=\"Email\" /><input className=\"input\" type=\"password\" value={password} onChange={e=>setPassword(e.target.value)} placeholder=\"Password\" /><button className=\"btn\">Login</button></form></div></div>);\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAC3C,cAAe,SAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAc,IAAb,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,KAAK,CAACC,QAAQ,CAAC,CAACV,KAAK,CAACW,QAAQ,CAAC,iBAAiB,CAAC,CAAE,KAAM,CAACC,QAAQ,CAACC,WAAW,CAAC,CAACb,KAAK,CAACW,QAAQ,CAAC,YAAY,CAAC,CACnH,cAAe,CAAAG,MAAMA,CAACC,CAAC,CAAC,CAAEA,CAAC,EAAEA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAE,GAAI,CAAE,KAAM,CAAAC,CAAC,CAAG,KAAM,CAAAhB,SAAS,CAACiB,GAAG,CAAC,iBAAiB,CAAC,CAAEC,MAAM,CAAC,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEb,KAAK,CAACG,QAAS,CAAC,CAAC,CAAEW,OAAO,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAE,CAAC,CAAC,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAER,CAAC,CAACS,KAAK,CAAC,CAAE,KAAM,CAAAC,EAAE,CAAG,KAAM,CAAA1B,SAAS,CAACiB,GAAG,CAAC,cAAc,CAAC,CAAEM,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEJ,IAAI,CAACC,SAAS,CAACK,EAAE,CAACC,IAAI,CAAC,CAAC,CAAE,GAAIpB,OAAO,CAAEA,OAAO,CAACmB,EAAE,CAACC,IAAI,CAAC,CAAE,CAAE,MAAMb,CAAC,CAAC,CAAEc,KAAK,CAACd,CAAC,CAACe,OAAO,CAAC,CAAE,CAAE,CACha,mBAAQ3B,IAAA,QAAK4B,KAAK,CAAE,CAACC,QAAQ,CAAC,GAAG,CAAEC,MAAM,CAAC,WAAW,CAAE,CAAAC,QAAA,cAAC7B,KAAA,QAAK8B,SAAS,CAAC,UAAU,CAAAD,QAAA,eAAC/B,IAAA,OAAA+B,QAAA,CAAI,OAAK,CAAI,CAAC,cAAA7B,KAAA,SAAM+B,QAAQ,CAAEtB,MAAO,CAAAoB,QAAA,eAAC/B,IAAA,UAAOgC,SAAS,CAAC,OAAO,CAACE,KAAK,CAAE5B,KAAM,CAAC6B,QAAQ,CAAEvB,CAAC,EAAEL,QAAQ,CAACK,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,OAAO,CAAE,CAAC,cAAArC,IAAA,UAAOgC,SAAS,CAAC,OAAO,CAACM,IAAI,CAAC,UAAU,CAACJ,KAAK,CAAEzB,QAAS,CAAC0B,QAAQ,CAAEvB,CAAC,EAAEF,WAAW,CAACE,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,UAAU,CAAE,CAAC,cAAArC,IAAA,WAAQgC,SAAS,CAAC,KAAK,CAAAD,QAAA,CAAC,OAAK,CAAQ,CAAC,EAAM,CAAC,EAAK,CAAC,CAAK,CAAC,CACpZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}