{"ast":null,"code":"import React from'react';import apiClient from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ResetPassword(){const params=new URLSearchParams(window.location.search);const token=params.get('token')||'';const[password,setPassword]=React.useState('');const[password2,setPassword2]=React.useState('');async function submit(e){e&&e.preventDefault();if(password!==password2)return alert('no match');try{const res=await apiClient.api('/api/auth/reset-password',{method:'POST',body:JSON.stringify({token,password}),headers:{'Content-Type':'application/json'}});if(res&&res.token){localStorage.setItem('token',res.token);const me=await apiClient.api('/api/auth/me');localStorage.setItem('user',JSON.stringify(me.user));window.location.href='/';}}catch(e){alert(e.message);}}return/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:520,margin:'40px auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Reset Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"New password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"password\",value:password2,onChange:e=>setPassword2(e.target.value),placeholder:\"Confirm\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Reset\"})]})]})});}","map":{"version":3,"names":["React","apiClient","jsx","_jsx","jsxs","_jsxs","ResetPassword","params","URLSearchParams","window","location","search","token","get","password","setPassword","useState","password2","setPassword2","submit","e","preventDefault","alert","res","api","method","body","JSON","stringify","headers","localStorage","setItem","me","user","href","message","style","maxWidth","margin","children","className","onSubmit","type","value","onChange","target","placeholder"],"sources":["E:/Creative/App/dms/client/src/pages/auth/ResetPassword.jsx"],"sourcesContent":["import React from 'react';\r\nimport apiClient from '../../services/api';\r\nexport default function ResetPassword(){\r\n  const params = new URLSearchParams(window.location.search); const token = params.get('token') || '';\r\n  const [password,setPassword]=React.useState(''); const [password2,setPassword2]=React.useState('');\r\n  async function submit(e){ e&&e.preventDefault(); if(password!==password2) return alert('no match'); try { const res = await apiClient.api('/api/auth/reset-password',{ method:'POST', body: JSON.stringify({ token, password }), headers:{'Content-Type':'application/json'} }); if(res && res.token){ localStorage.setItem('token', res.token); const me = await apiClient.api('/api/auth/me'); localStorage.setItem('user', JSON.stringify(me.user)); window.location.href='/'; } } catch(e){ alert(e.message); } }\r\n  return (<div style={{maxWidth:520, margin:'40px auto'}}><div className=\"card p-3\"><h4>Reset Password</h4><form onSubmit={submit}><input className=\"input\" type=\"password\" value={password} onChange={e=>setPassword(e.target.value)} placeholder=\"New password\" /><input className=\"input\" type=\"password\" value={password2} onChange={e=>setPassword2(e.target.value)} placeholder=\"Confirm\" /><button className=\"btn\">Reset</button></form></div></div>);\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAC3C,cAAe,SAAS,CAAAC,aAAaA,CAAA,CAAE,CACrC,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAE,KAAM,CAAAC,KAAK,CAAGL,MAAM,CAACM,GAAG,CAAC,OAAO,CAAC,EAAI,EAAE,CACnG,KAAM,CAACC,QAAQ,CAACC,WAAW,CAAC,CAACf,KAAK,CAACgB,QAAQ,CAAC,EAAE,CAAC,CAAE,KAAM,CAACC,SAAS,CAACC,YAAY,CAAC,CAAClB,KAAK,CAACgB,QAAQ,CAAC,EAAE,CAAC,CAClG,cAAe,CAAAG,MAAMA,CAACC,CAAC,CAAC,CAAEA,CAAC,EAAEA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAE,GAAGP,QAAQ,GAAGG,SAAS,CAAE,MAAO,CAAAK,KAAK,CAAC,UAAU,CAAC,CAAE,GAAI,CAAE,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAtB,SAAS,CAACuB,GAAG,CAAC,0BAA0B,CAAC,CAAEC,MAAM,CAAC,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEhB,KAAK,CAAEE,QAAS,CAAC,CAAC,CAAEe,OAAO,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAE,CAAC,CAAC,CAAE,GAAGN,GAAG,EAAIA,GAAG,CAACX,KAAK,CAAC,CAAEkB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAER,GAAG,CAACX,KAAK,CAAC,CAAE,KAAM,CAAAoB,EAAE,CAAG,KAAM,CAAA/B,SAAS,CAACuB,GAAG,CAAC,cAAc,CAAC,CAAEM,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEJ,IAAI,CAACC,SAAS,CAACI,EAAE,CAACC,IAAI,CAAC,CAAC,CAAExB,MAAM,CAACC,QAAQ,CAACwB,IAAI,CAAC,GAAG,CAAE,CAAE,CAAE,MAAMd,CAAC,CAAC,CAAEE,KAAK,CAACF,CAAC,CAACe,OAAO,CAAC,CAAE,CAAE,CACpf,mBAAQhC,IAAA,QAAKiC,KAAK,CAAE,CAACC,QAAQ,CAAC,GAAG,CAAEC,MAAM,CAAC,WAAW,CAAE,CAAAC,QAAA,cAAClC,KAAA,QAAKmC,SAAS,CAAC,UAAU,CAAAD,QAAA,eAACpC,IAAA,OAAAoC,QAAA,CAAI,gBAAc,CAAI,CAAC,cAAAlC,KAAA,SAAMoC,QAAQ,CAAEtB,MAAO,CAAAoB,QAAA,eAACpC,IAAA,UAAOqC,SAAS,CAAC,OAAO,CAACE,IAAI,CAAC,UAAU,CAACC,KAAK,CAAE7B,QAAS,CAAC8B,QAAQ,CAAExB,CAAC,EAAEL,WAAW,CAACK,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,cAAc,CAAE,CAAC,cAAA3C,IAAA,UAAOqC,SAAS,CAAC,OAAO,CAACE,IAAI,CAAC,UAAU,CAACC,KAAK,CAAE1B,SAAU,CAAC2B,QAAQ,CAAExB,CAAC,EAAEF,YAAY,CAACE,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,SAAS,CAAE,CAAC,cAAA3C,IAAA,WAAQqC,SAAS,CAAC,KAAK,CAAAD,QAAA,CAAC,OAAK,CAAQ,CAAC,EAAM,CAAC,EAAK,CAAC,CAAK,CAAC,CAC3b","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}